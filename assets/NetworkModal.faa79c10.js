import{_}from"./Modal.vue_vue_type_script_setup_true_lang.7d1f63fa.js";import{_ as u}from"./MainButton.vue_vue_type_script_setup_true_lang.8519f06e.js";import{u as f}from"./wallet.d5ee502e.js";import{b as w,u as x}from"./provider.f9cba9ce.js";import{a as t}from"./networks.9fa95cd2.js";import{h as c}from"./numbers.845fc6d6.js";import{v,f as N,C as k,h as b,z as I,A as n,k as o,N as i,J as C,u as l,E as y}from"./index.00545793.js";import"./Card.vue_vue_type_script_setup_true_lang.91d58e92.js";import"./IconButton.vue_vue_type_script_setup_true_lang.4ffc90bd.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./pinia.4446b5c2.js";import"./index.d593242d.js";import"./index.a0164a6e.js";import"./error.7cedc883.js";import"./wallet.597f10bb.js";import"./ethers.0e708041.js";const E={class:"text-center"},S=o("p",{class:"text-2xl font-bold text-red-500"},"Oops!",-1),g=o("p",{class:"text-xl"},"Your current network is not supported!",-1),B={class:"text-xl"},U={class:"text-brown-800"},V={class:"mt-4"},K=v({__name:"NetworkModal",setup(q){const r=f(),a=w(),m=N(()=>!!r.chainId&&!!r.address&&r.chainId!==t.chainId);k(async()=>{a.value&&(r.chainId=c(await a.value.request({method:"eth_chainId"})),a.value.on("chainChanged",e=>{r.chainId=c(e)}))});const d=async()=>{const e=await x();if(!e)return;const s="0x"+t.chainId.toString(16);try{await e.request({method:"wallet_switchEthereumChain",params:[{chainId:s}]})}catch{await e.request({method:"wallet_addEthereumChain",params:[{chainId:s,chainName:t.chainName,nativeCurrency:t.currency,rpcUrls:[t.rpcUrl],blockExplorerUrls:[t.explorerUrl]}]})}};return(e,s)=>{const p=u,h=_;return b(),I(h,{closable:!1,visible:l(m),title:"Invalid Network"},{default:n(()=>[o("div",E,[S,g,o("p",B,[i(" Switch to "),o("strong",U,C(l(t).chainName),1),i(" to continue. ")]),o("div",V,[y(p,{onClick:d},{default:n(()=>[i("Switch Network")]),_:1})])])]),_:1},8,["visible"])}}});export{K as default};
